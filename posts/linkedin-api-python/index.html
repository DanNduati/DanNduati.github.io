<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Nduati Daniel"><meta name=description content="Using the LinkedIn API with Python"><meta name=keywords content="Daniel,Chege,Nduati,danielchege,daniel chege,dannduati,DanNduati,DanNduati github,blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="LinkedIn Api with Python"><meta name=twitter:description content="Using the LinkedIn API with Python"><meta property="og:title" content="LinkedIn Api with Python"><meta property="og:description" content="Using the LinkedIn API with Python"><meta property="og:type" content="article"><meta property="og:url" content="http://danielchege.me/posts/linkedin-api-python/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-23T15:35:28+03:00"><meta property="article:modified_time" content="2022-08-23T15:35:28+03:00"><title>Nduati Daniel</title><link rel=canonical href=http://danielchege.me/posts/linkedin-api-python/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.6b1a4fbc48955b72aea7913e43fabeb45e8bc120da5aa41b598dd33adcac4b59.css integrity="sha256-axpPvEiVW3Kup5E+Q/q+tF6LwSDaWqQbWY3TOtysS1k=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.39e41a7f16bdf8cb16e43cae7d714fa1016f1d2d2898a5b3f27f42c9979204e2.css integrity="sha256-OeQafxa9+MsW5DyufXFPoQFvHS0omKWz8n9CyZeSBOI=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.101.0"></head><body class="preload-transitions colorscheme-dark"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Nduati Daniel</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=http://danielchege.me/posts/linkedin-api-python/>LinkedIn Api with Python</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2022-08-23T15:35:28+03:00>August 23, 2022</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
14-minute read</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/python/>python</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/linkedlin/>linkedlin</a></span>
<span class=separator>•</span>
<span class=tag><a href=/tags/linkedlin-api/>linkedlin-api</a></span></div></div></header><div><figure><img src=/linkedin-api-python/linkedin.jpg alt=linkedin height=400></figure><h2 id=bintroductionb>Introduction
<a class=heading-link href=#bintroductionb><i class="fa fa-link" aria-hidden=true></i></a></h2><p><code>LinkedIn</code> is the world&rsquo;s largest professional network on the internet. You can use LinkedIn to find the right job or internship, connect and strengthen professional relationships, and learn the skills you need to succeed in your career. LinkedIn provides an API interface that enables its partners and developers build, run, and grow sustainable businesses on the platform. An <code>API</code>, or Application Programming Interface, is a way of communication between various software components. It is a method in which applications give access to their data in a structured way, without the need of interacting with the user interface. Linkedin&rsquo;s APIs are grouped and organized by their business lines covering Consumer, Compliance, Learning, Marketing, Sales, and Talent Solutions.</p><p>In this article, you will learn how to get your credentials, authenticate the API using OAuth 2.0 and share content from your personal profile.</p><h2 id=btable-of-contentsb>Table of contents
<a class=heading-link href=#btable-of-contentsb><i class="fa fa-link" aria-hidden=true></i></a></h2><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#bintroductionb>Introduction</a></li><li><a href=#btable-of-contentsb>Table of contents</a></li><li><a href=#bprerequisitesb>Prerequisites</a></li><li><a href=#bcreate-a-linkedlin-company-pageb>Create a linkedlin Company Page</a></li><li><a href=#bcreate-the-linkedin-appb>Create the LinkedIn app</a><ul><li><a href=#badd-products-to-the-linkedin-applcationb>Add Products to the LinkedIn Applcation</a></li><li><a href=#bset-up-the-callbackredirect-urlb>Set-Up the Callback/Redirect URL</a></li></ul></li><li><a href=#bconsuming-linkedin-api-with-pythonb>Consuming LinkedIn API with python</a><ul><li><a href=#bstore-your-oauth-credentialsb>Store your OAuth Credentials</a></li><li><a href=#binstall-python-dependenciesb>Install python dependencies</a></li><li><a href=#bimport-dependenciesb>Import dependencies</a></li><li><a href=#bsetup-some-global-variablesb>Setup some global variables</a></li></ul></li><li><a href=#bgetting-access-to-linkedin-apisb>Getting Access to LinkedIn APIs</a><ul><li><a href=#brequest-an-authorization-codeb>Request an Authorization Code</a></li><li><a href=#sample-request-with-python>Sample request with python</a></li></ul></li><li><a href=#bexchange-authorization-code-for-an-access-tokenb>Exchange Authorization Code for an Access Token</a><ul><li><a href=#sample-request-with-python-1>Sample request with python</a></li><li><a href=#access-token-response>Access Token Response</a></li></ul></li><li><a href=#combined-authorization-code-flow>Combined Authorization Code Flow</a></li><li><a href=#bmake-authenticated-requestsb>Make Authenticated Requests</a><ul><li><a href=#bget-user-linkedin-profile-informationb>Get User LinkedIn profile information</a></li><li><a href=#sample-request-with-python-2>Sample request with python</a></li><li><a href=#sample-response>Sample Response</a></li><li><a href=#bshare-on-linkedin-from-your-personal-profileb>Share on LinkedIn from your Personal Profile</a></li><li><a href=#request-body-schema>Request body schema</a></li><li><a href=#create-an-atricle-share>Create an Atricle Share</a></li><li><a href=#sample-request-with-python-3>Sample request with python</a></li><li><a href=#sample-response-1>Sample Response</a></li></ul></li><li><a href=#bfull-codeb>Full Code</a></li><li><a href=#blimitations-of-linkedin-apisb>Limitations of LinkedIn APIs</a></li><li><a href=#bconclusionb>Conclusion</a></li><li><a href=#bresourcesb>Resources</a></li></ul></nav></div><h2 id=bprerequisitesb>Prerequisites
<a class=heading-link href=#bprerequisitesb><i class="fa fa-link" aria-hidden=true></i></a></h2><ul><li>Basic knowledge of <a href=https://www.python.org/>Python</a></li><li>Basic Knowledge of <a href=https://restfulapi.net/>REST APIs</a></li><li><a href=https://www.linkedin.com/>Linkedln Account</a></li></ul><h2 id=bcreate-a-linkedlin-company-pageb>Create a linkedlin Company Page
<a class=heading-link href=#bcreate-a-linkedlin-company-pageb><i class="fa fa-link" aria-hidden=true></i></a></h2><ol><li><p>Navigate to the company creation <a href=https://www.linkedin.com/company/setup/new/>page</a>, Select Create a Company Page. Click on Company and enter the details and click on Create Page.<figure><img src=/linkedin-api-python/create_company_page.png alt=linkedin></figure></p></li><li><p>You will be asked to provide the following details for you company page:</p><ol><li><strong>Name</strong> of your company.</li><li><strong>Company URL</strong></li><li><strong>Company Website</strong></li><li><strong>Industry</strong></li><li><strong>Company Size</strong></li><li><strong>Logo</strong></li><li><strong>Tagline</strong> - A short description of your company.</li></ol></li></ol><p>Once you have provided all these details, your LinkedIn company page has been created now.<figure><img src=/linkedin-api-python/linkedln_dummy_company.png alt=linkedin></figure></p><h2 id=bcreate-the-linkedin-appb>Create the LinkedIn app
<a class=heading-link href=#bcreate-the-linkedin-appb><i class="fa fa-link" aria-hidden=true></i></a></h2><figure><img src=/linkedin-api-python/create_application.png alt=linkedin></figure><ol><li><p>Navigate to the <a href=https://developer.linkedin.com/>developer portal</a>, click on <strong>My Apps</strong> select <strong>Create App</strong> and enter the following details for your application:</p><ol><li><strong>Application name</strong></li><li><strong>Linkedin Page</strong> - The LinkedIn Company Page you select will be associated with your app</li><li>An optional <strong>Privacy policy URL</strong>.</li><li><strong>Application logo</strong></li><li>Agree to the terms and click on <strong>Create App</strong><figure><img src=/linkedin-api-python/Create_an_app.png alt=linkedin></figure></li></ol></li><li><p>To verify your application click on the <strong>verify</strong> button.</p></li></ol><figure><img src=/linkedin-api-python/verify_application.png alt=linkedin></figure><ol start=3><li>Click <strong>Generate URL</strong> copy the verification URL provided and click the <strong>I&rsquo;m done</strong> button.</li></ol><figure><img src=/linkedin-api-python/verify_application_1.png alt=linkedin></figure><ol start=4><li>Go to the verification url you just copied, here you will be asked to verify the application for your company page.<figure><img src=/linkedin-api-python/verify_application_2.png alt=linkedin></figure>Click on <strong>verify</strong> and you will now have successfully created a LinkedIn company page and also created an app to interact with LinkedIn using the REST APIs.</li></ol><h3 id=badd-products-to-the-linkedin-applcationb>Add Products to the LinkedIn Applcation
<a class=heading-link href=#badd-products-to-the-linkedin-applcationb><i class="fa fa-link" aria-hidden=true></i></a></h3><p>Once you have created the LinkedIn App, you need to define what are the products that you are going to use with your app. Based on this, your app will be provided with the necessary permissions that you need. There are three products available to choose from:</p><ol><li><strong>Share on LinkedIn</strong> - This allows you to post content from your profile.</li><li><strong>Sign In with LinkedIn</strong> - This allows you to use LinkedIn social sign on your webpage.</li><li><strong>Marketing Developer Platform</strong> - Allows you to post content from your page. This product requires additional access. You will receive a form for this. Fill up the form and wait for approval. Click on the View Access Form and fill it up with relevant details.</li></ol><figure><img src=/linkedin-api-python/add_products.png alt=linkedin></figure><h3 id=bset-up-the-callbackredirect-urlb>Set-Up the Callback/Redirect URL
<a class=heading-link href=#bset-up-the-callbackredirect-urlb><i class="fa fa-link" aria-hidden=true></i></a></h3><p>The callback url is the URL that OAuth invokes after the authentication process. OAuth redirects back to this URL and appends additional parameters to it, including an access code which will be exchanged for an access_token.</p><figure><img src=/linkedin-api-python/application_redirect_url.png alt=linkedin></figure><h2 id=bconsuming-linkedin-api-with-pythonb>Consuming LinkedIn API with python
<a class=heading-link href=#bconsuming-linkedin-api-with-pythonb><i class="fa fa-link" aria-hidden=true></i></a></h2><p>Now comes the interesting bit, writing python code that interacts with the API. Under the OAuth 2.0 scopes card in the auth tab of your application you can see the levels of access your app has in my case that is:</p><p><figure><img src=/linkedin-api-python/application_oauth_scopes.png alt=linkedin></figure>Therefore this article will only cover the above scopes which lets you:</p><ol><li>Get your own user ID</li><li>Get your own email address</li><li>Post on LinkedIn as yourself.</li></ol><p>The above scopes are memeber specific and for this we will use the <a href="https://docs.microsoft.com/en-gb/linkedin/shared/authentication/authorization-code-flow?context=linkedin%2Fcontext&view=li-lms-2022-07&tabs=HTTPS">Authorization Code Flow (3-legged OAuth)</a></p><h3 id=bstore-your-oauth-credentialsb>Store your OAuth Credentials
<a class=heading-link href=#bstore-your-oauth-credentialsb><i class="fa fa-link" aria-hidden=true></i></a></h3><p>Fetch your OAuth credentials from the auth tab of your application.</p><p><figure><img src=/linkedin-api-python/application_credentials.png alt=linkedin></figure>Leaving passwords in code is obviously terrible idea, as it&rsquo;s lying there in plaintext for anyone to see and you&rsquo;re also running risk of accidentally pushing it to git repo. A little better option would be to store it in environment variables. Create a <code>.env</code> file and populate it with your credentials as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>CLIENT_ID=XXXXXXXXXXXXXX
</span></span><span style=display:flex><span>CLIENT_SECRET=XXXXXXXXXXXXXXXX
</span></span><span style=display:flex><span>REDIRECT_URL=XXXXXXXXXXXXXXXXX
</span></span></code></pre></div><p>Now that we have the credentials in place lets begin interacting with the LinkedIn APIs</p><h3 id=binstall-python-dependenciesb>Install python dependencies
<a class=heading-link href=#binstall-python-dependenciesb><i class="fa fa-link" aria-hidden=true></i></a></h3><p>To write code that interacts with REST APIs, you need to make HTTP Requests to the various API endpoints.In python the <a href=https://pypi.org/project/requests/>requests</a> library allows you to send HTTP/1.1 requests extremely easily. It abstracts the complexities of making requests behind a beautiful, simple API so that you can focus on interacting with services and consuming data in your application.</p><p>To install requests :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ python -m pip install requests
</span></span></code></pre></div><p>Also to read the environment variables created above we need the <a href=https://pypi.org/project/python-dotenv/>python-dotenv</a> library that facilitates reading key-value pairs from a .env file and set them as environment variables
Install it with:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ python -m pip install python-dotenv
</span></span></code></pre></div><h3 id=bimport-dependenciesb>Import dependencies
<a class=heading-link href=#bimport-dependenciesb><i class="fa fa-link" aria-hidden=true></i></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>os</span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>random</span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>string</span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>webbrowser</span>
</span></span><span style=display:flex><span><span style=font-weight:700>from</span> <span style=font-weight:700>pathlib</span> <span style=font-weight:700>import</span> Path
</span></span><span style=display:flex><span><span style=font-weight:700>from</span> <span style=font-weight:700>urllib.parse</span> <span style=font-weight:700>import</span> parse_qs, urlparse
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>requests</span>
</span></span><span style=display:flex><span><span style=font-weight:700>from</span> <span style=font-weight:700>dotenv</span> <span style=font-weight:700>import</span> load_dotenv, set_key
</span></span></code></pre></div><p>Dont worry will get to how all this modules are used in the article.</p><h3 id=bsetup-some-global-variablesb>Setup some global variables
<a class=heading-link href=#bsetup-some-global-variablesb><i class="fa fa-link" aria-hidden=true></i></a></h3><p>This are the LinkedIn API endpoints we will use:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>AUTHORIZATION_URL = <span style=font-style:italic>&#34;https://www.linkedin.com/oauth/v2/authorization&#34;</span>
</span></span><span style=display:flex><span>ACCESS_TOKEN_URL = <span style=font-style:italic>&#34;https://www.linkedin.com/oauth/v2/accessToken&#34;</span>
</span></span><span style=display:flex><span>USER_PROFILE_URL = <span style=font-style:italic>&#34;https://api.linkedin.com/v2/me&#34;</span>
</span></span><span style=display:flex><span>SHARE_URL = <span style=font-style:italic>&#34;https://api.linkedin.com/v2/shares&#34;</span>
</span></span></code></pre></div><h2 id=bgetting-access-to-linkedin-apisb>Getting Access to LinkedIn APIs
<a class=heading-link href=#bgetting-access-to-linkedin-apisb><i class="fa fa-link" aria-hidden=true></i></a></h2><p>The LinkedIn API uses <a href=http://oauth.net/2/>OAuth 2.0</a> for user authorization and API authentication. Applications must be authorized and authenticated before they can fetch data from LinkedIn or get access to member data.</p><h3 id=brequest-an-authorization-codeb>Request an Authorization Code
<a class=heading-link href=#brequest-an-authorization-codeb><i class="fa fa-link" aria-hidden=true></i></a></h3><p>To request an authorization code, you must direct the member&rsquo;s browser to LinkedIn&rsquo;s OAuth 2.0 authorization page, where the member either accepts or denies your application&rsquo;s permission request.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>GET https://www.linkedin.com/oauth/v2/authorization
</span></span></code></pre></div><h3 id=sample-request-with-python>Sample request with python
<a class=heading-link href=#sample-request-with-python><i class="fa fa-link" aria-hidden=true></i></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>def</span> generate_CSRF_token():
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> secrets.token_urlsafe(32)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> parse_redirect_uri(redirect_response):
</span></span><span style=display:flex><span>    <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>    Extract the authorization code from the redirect uri.
</span></span></span><span style=display:flex><span><span style=font-style:italic>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    url = urlparse(redirect_response)
</span></span><span style=display:flex><span>    url = parse_qs(url.query)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> url[<span style=font-style:italic>&#34;code&#34;</span>][0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> request_authorization_code(url: str, client_id: str, redirect_uri: str):
</span></span><span style=display:flex><span>    csrf_token = generate_CSRF_token()
</span></span><span style=display:flex><span>    params = {
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;response_type&#34;</span>: <span style=font-style:italic>&#34;code&#34;</span>,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;client_id&#34;</span>: client_id,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;redirect_uri&#34;</span>: redirect_uri,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;state&#34;</span>: csrf_token,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;scope&#34;</span>: <span style=font-style:italic>&#34;r_liteprofile,r_emailaddress,w_member_social&#34;</span>,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=font-weight:700>with</span> requests.session() <span style=font-weight:700>as</span> s:
</span></span><span style=display:flex><span>        response = s.get(url=url, params=params)
</span></span><span style=display:flex><span>    OAuthURL = response.url
</span></span><span style=display:flex><span>    webbrowser.open_new_tab(OAuthURL)
</span></span><span style=display:flex><span>    print(
</span></span><span style=display:flex><span>        <span style=font-style:italic>f</span><span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>    Copy the URL of where you have been redirected to:</span><span style=font-weight:700;font-style:italic>\n</span><span style=font-style:italic>
</span></span></span><span style=display:flex><span><span style=font-style:italic>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=font-style:italic># Get the authorization code from the callback url input</span>
</span></span><span style=display:flex><span>    redirect_response = input(<span style=font-style:italic>&#34;Paste the redirect URL here:&#34;</span>)
</span></span><span style=display:flex><span>    auth_code = parse_redirect_uri(redirect_response)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> auth_code
</span></span></code></pre></div><p>This is a bit chunky but here we are basically building a <code>GET</code> request to the authorization endpoint with the following parameters:</p><ol><li><strong>response_type</strong> (string) - The value of this field should always be: <code>code</code></li><li><strong>client_id</strong> (string) - The API Key value generated when you registered your application.</li><li><strong>redirect_uri</strong> (string) - The URI your users are sent back to after authorization. This value must match one of the Redirect URLs defined in your <a href=https://www.linkedin.com/developers/>application configuration</a>.</li><li><strong>state</strong> (string) - A unique string value of your choice that is hard to guess.</li><li><strong>scope</strong> (string) - URL-encoded, space-delimited list of member permissions your application is requesting on behalf of the user.</li></ol><p>The <code>state</code> request parameter string is generated in the <code>generate_CSRF_token()</code> function that uses the secrets module to generate a random URL-safe text string, containing 32 bytes random bytes.</p><p>Using the <code>webbrowser</code> module we open the authorizatio url we just built in a new window of your default browser basically making a <code>GET</code> request with the above parameters. This directs to LinkedIn&rsquo;s OAuth 2.0 authorization page, where the member either accepts or denies your application&rsquo;s permission request.</p><figure><img src=/linkedin-api-python/authorization_screen_1.png alt=linkedin></figure><p>By providing valid LinkedIn credentials and clicking Allow, the member approves your application&rsquo;s request to access their member data and interact with LinkedIn on their behalf.</p><figure><img src=/linkedin-api-python/authorization_screen.png alt=linkedin></figure><p>This approval instructs LinkedIn to redirect the member to the <code>redirect URL</code> that you defined in your <code>redirect_uri</code> parameter.</p><figure><img src=/linkedin-api-python/redirect.png alt=linkedin></figure><p>Attached to the redirect_uri are two important URL arguments that you need to read from the request:</p><ul><li><code>code</code> - The OAuth 2.0 authorization code.</li><li><code>state</code> - A value used to test for possible CSRF attacks.</li></ul><p>I&rsquo;ve setup a simple HTTP server with python that servers a simple HTML page on the redirect url and using <code>ngrok</code> exposed this web server running on my machine to LinkedIn. You dont need to do this.</p><figure><img src=/linkedin-api-python/redirect_ngrok.png alt=linkedin></figure><p>This is beyond the scope of the article and is completely optional. The python script then reads the <code>redirect url</code> as input and filters out the <code>Authorization code</code>. You will thus need to copy this url and paste it after the prompt <code>Copy the URL of where you have been redirected to:</code>
In our case the url is:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>https://4680-41-90-189-114.ngrok.io/?code=AQQC_KO33d5Nx2isO7hhxqj1PiTcfqUsaC5Ddf6Rjb0yxTzIMsqqHCJMt8bnXj0vIS3VUmathZvlEox-9r8-SJyuN5VL_9KeZS1ROYlTIatUoyIjlu7fw6KlclUNdskT5GYIK5UOtr3U5XCRBu5ztW9llPIEPcIhMZs_CktNmPr50mxRp48yvU18nqBrSXd46d_C3yhkRbbqJHJqJGo&amp;state=qfkbrgqkmicggbgqeuer
</span></span></code></pre></div><p>The <code>Authorization code</code> filtered from the above url is:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>AQQC_KO33d5Nx2isO7hhxqj1PiTcfqUsaC5Ddf6Rjb0yxTzIMsqqHCJMt8bnXj0vIS3VUmathZvlEox-9r8-SJyuN5VL_9KeZS1ROYlTIatUoyIjlu7fw6KlclUNdskT5GYIK5UOtr3U5XCRBu5ztW9llPIEPcIhMZs_CktNmPr50mxRp48yvU18nqBrSXd46d_C3yhkRbbqJHJqJGo
</span></span></code></pre></div><p>This authorization code is then stored as another environment variable in the <code>authorize()</code> function.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>def</span> authorize(client_id: str, redirect_url: str, env_path: Path):
</span></span><span style=display:flex><span>    authorization_code = os.environ.get(<span style=font-style:italic>&#34;AUTHORIZATION_CODE&#34;</span>, <span style=font-weight:700>None</span>)
</span></span><span style=display:flex><span>    <span style=font-weight:700>if</span> <span style=font-weight:700>not</span> authorization_code:
</span></span><span style=display:flex><span>        authorization_code = request_authorization_code(
</span></span><span style=display:flex><span>            authorization_url, client_id, redirect_url
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>        set_key(env_path, <span style=font-style:italic>&#34;AUTHORIZATION_CODE&#34;</span>, authorization_code)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> authorization_code
</span></span></code></pre></div><h2 id=bexchange-authorization-code-for-an-access-tokenb>Exchange Authorization Code for an Access Token
<a class=heading-link href=#bexchange-authorization-code-for-an-access-tokenb><i class="fa fa-link" aria-hidden=true></i></a></h2><p>The next step is to get an access token for your application using the authorization code from the previous step.
To generate an access token, issue a <code>HTTP POST</code> request against the accessToken url with a Content-Type header of x-www-form-urlencoded and the following parameters in the request body:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>POST https://www.linkedin.com/oauth/v2/accessToken
</span></span></code></pre></div><h3 id=sample-request-with-python-1>Sample request with python
<a class=heading-link href=#sample-request-with-python-1><i class="fa fa-link" aria-hidden=true></i></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>def</span> get_access_token(
</span></span><span style=display:flex><span>    auth_code: str, redirect_uri: str, client_id: str, client_secret: str
</span></span><span style=display:flex><span>):
</span></span><span style=display:flex><span>    <span style=font-style:italic># Request body parameters</span>
</span></span><span style=display:flex><span>    params = {
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;grant_type&#34;</span>: <span style=font-style:italic>&#34;authorization_code&#34;</span>,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;code&#34;</span>: auth_code,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;redirect_uri&#34;</span>: redirect_uri,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;client_id&#34;</span>: client_id,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;client_secret&#34;</span>: client_secret,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=font-weight:700>with</span> requests.session() <span style=font-weight:700>as</span> s:
</span></span><span style=display:flex><span>        response = s.post(url=ACCESS_TOKEN_URL, params=params)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> response.json()[<span style=font-style:italic>&#34;access_token&#34;</span>]
</span></span></code></pre></div><p>Here we make a <code>HTTP POST</code> request to the <code>Access Token</code> endpoint with the following parameters in the request body:</p><ol><li><strong>grant_type</strong> (string) - The value of this field should always be: <code>authorization_code</code></li><li><strong>code</strong> (string) - The authorization code obtained in the previous step.</li><li><strong>client_id</strong> (string) - The Client ID defined in your <a href=https://www.linkedin.com/developers/>application configuration</a>.</li><li><strong>client_secret</strong> (string) - The Client Secret Key defined in your <a href=https://www.linkedin.com/developers/>application configuration</a>.</li><li><strong>redirect_uri</strong> (string) - The same <code>redirect_uri</code> value that you passed in the previous steps.</li></ol><h3 id=access-token-response>Access Token Response
<a class=heading-link href=#access-token-response><i class="fa fa-link" aria-hidden=true></i></a></h3><p>A successful access token request returns a JSON object containing the following fields:</p><ol><li><strong>access_token</strong> (string) - The access token for the application.</li><li><strong>expires_in</strong> (int) - The number of seconds remaining until the token expires. Currently, all access tokens are issued with a 60-day lifespan.</li></ol><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=font-weight:700>&#34;access_token&#34;</span>:<span style=font-style:italic>&#34;AQUeiSTK8hf_ZWIRlFL0yoOfXIzG3pSEl0DoNRWMff7xoqWn1M9SdYmvHUkL-OxeGE0joULvepSUH2txPpA1XS_mV-dzngJ6P1zZ40qwbolf1gcyvh-R1C4ElR-aDaKvqOIyZOlff...&#34;</span>,
</span></span><span style=display:flex><span>    <span style=font-weight:700>&#34;expires_in&#34;</span>:5183999
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=combined-authorization-code-flow>Combined Authorization Code Flow
<a class=heading-link href=#combined-authorization-code-flow><i class="fa fa-link" aria-hidden=true></i></a></h2><p>Now that we have the necessary Authorization functions we can combine them to a function that executes the authentication flow:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>def</span> main():
</span></span><span style=display:flex><span>    env_path = Path.cwd() / <span style=font-style:italic>&#34;.env&#34;</span>
</span></span><span style=display:flex><span>    load_dotenv(env_path)
</span></span><span style=display:flex><span>    client_id, client_secret, redirect_url = (
</span></span><span style=display:flex><span>        os.environ.get(<span style=font-style:italic>&#34;CLIENT_ID&#34;</span>, <span style=font-weight:700>None</span>),
</span></span><span style=display:flex><span>        os.environ.get(<span style=font-style:italic>&#34;CLIENT_SECRET&#34;</span>, <span style=font-weight:700>None</span>),
</span></span><span style=display:flex><span>        os.environ.get(<span style=font-style:italic>&#34;REDIRECT_URL&#34;</span>, <span style=font-weight:700>None</span>),
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    authorization_code = authorize(client_id, redirect_url, env_path)
</span></span><span style=display:flex><span>    access_token = get_access_token(
</span></span><span style=display:flex><span>        authorization_code, redirect_url, client_id, client_secret
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>if</span> __name__ == <span style=font-style:italic>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div><p>Here we:</p><ol><li>Define the file path to our <code>.env</code> file load it and read the environment variables.</li><li>Obtain an Authorization Code</li><li>Obtain an Access Token</li><li>Run the encapsulating <code>main()</code> function</li></ol><h2 id=bmake-authenticated-requestsb>Make Authenticated Requests
<a class=heading-link href=#bmake-authenticated-requestsb><i class="fa fa-link" aria-hidden=true></i></a></h2><p>Once you&rsquo;ve obtained an access token, you can start making authenticated API requests on behalf of the member by including an Authorization header in the HTTP call to LinkedIn&rsquo;s API.</p><h3 id=bget-user-linkedin-profile-informationb>Get User LinkedIn profile information
<a class=heading-link href=#bget-user-linkedin-profile-informationb><i class="fa fa-link" aria-hidden=true></i></a></h3><p>The <code>Profile API</code> returns a member&rsquo;s LinkedIn profile, based on the access token.
Make a <code>HTTP GET</code> request to the endpoint url:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>GET https://api.linkedin.com/v2/me
</span></span></code></pre></div><h3 id=sample-request-with-python-2>Sample request with python
<a class=heading-link href=#sample-request-with-python-2><i class="fa fa-link" aria-hidden=true></i></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>def</span> get_linkedin_profile(access_token: str):
</span></span><span style=display:flex><span>    <span style=font-style:italic># Request header</span>
</span></span><span style=display:flex><span>    header = {<span style=font-style:italic>&#34;Authorization&#34;</span>: <span style=font-style:italic>f</span><span style=font-style:italic>&#34;Bearer </span><span style=font-weight:700;font-style:italic>{</span>access_token<span style=font-weight:700;font-style:italic>}</span><span style=font-style:italic>&#34;</span>}
</span></span><span style=display:flex><span>    <span style=font-weight:700>with</span> requests.session() <span style=font-weight:700>as</span> s:
</span></span><span style=display:flex><span>        response = s.get(USER_PROFILE_URL, headers=header)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> response.json()
</span></span></code></pre></div><p>Note how the access token is included in the header of the request.</p><h3 id=sample-response>Sample Response
<a class=heading-link href=#sample-response><i class="fa fa-link" aria-hidden=true></i></a></h3><p>A successful profile information request returns a JSON object of the form:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;localizedLastName&#34;</span>:<span style=font-style:italic>&#34;Nduati&#34;</span>,
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;profilePicture&#34;</span>:{
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;displayImage&#34;</span>:<span style=font-style:italic>&#34;urn:li:digitalmediaAsset:C4D03AQEHi4lfUDPbaQ&#34;</span>
</span></span><span style=display:flex><span>   },
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;firstName&#34;</span>:{
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;localized&#34;</span>:{
</span></span><span style=display:flex><span>         <span style=font-weight:700>&#34;en_US&#34;</span>:<span style=font-style:italic>&#34;Daniel&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;preferredLocale&#34;</span>:{
</span></span><span style=display:flex><span>         <span style=font-weight:700>&#34;country&#34;</span>:<span style=font-style:italic>&#34;US&#34;</span>,
</span></span><span style=display:flex><span>         <span style=font-weight:700>&#34;language&#34;</span>:<span style=font-style:italic>&#34;en&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>   },
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;lastName&#34;</span>:{
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;localized&#34;</span>:{
</span></span><span style=display:flex><span>         <span style=font-weight:700>&#34;en_US&#34;</span>:<span style=font-style:italic>&#34;Nduati&#34;</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;preferredLocale&#34;</span>:{
</span></span><span style=display:flex><span>         <span style=font-weight:700>&#34;country&#34;</span>:<span style=font-style:italic>&#34;US&#34;</span>,
</span></span><span style=display:flex><span>         <span style=font-weight:700>&#34;language&#34;</span>:<span style=font-style:italic>&#34;en&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>   },
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;id&#34;</span>:<span style=font-style:italic>&#34;uvoFu7gji4&#34;</span>,
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;localizedFirstName&#34;</span>:<span style=font-style:italic>&#34;Daniel&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=bshare-on-linkedin-from-your-personal-profileb>Share on LinkedIn from your Personal Profile
<a class=heading-link href=#bshare-on-linkedin-from-your-personal-profileb><i class="fa fa-link" aria-hidden=true></i></a></h3><p>There are multiple ways to share content with your LinkedIn network. You can create shares using text, URLs, and images. In this article i have selected to share an article from my <code>dev.to</code> account. Your application may post shares in the context of a specific member or organization. Use a URN in the owner field to associate the share with an organization or authenticated member. The valid URN formats are <code>urn:li:person:{id}</code>.</p><p>You will need the permission <code>w_member_social</code> to create shares on behalf of a member, or w_organization_social to create shares on behalf of an organization.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>POST https://api.linkedin.com/v2/shares
</span></span></code></pre></div><h3 id=request-body-schema>Request body schema
<a class=heading-link href=#request-body-schema><i class="fa fa-link" aria-hidden=true></i></a></h3><ol><li><strong>owner</strong> - Owner of the share</li><li><strong>text</strong> - Text of the share</li><li><strong>content</strong> - Referenced content such as articles and images</li><li><strong>distribution</strong> - Distribution target for the share</li></ol><h3 id=create-an-atricle-share>Create an Atricle Share
<a class=heading-link href=#create-an-atricle-share><i class="fa fa-link" aria-hidden=true></i></a></h3><h4 id=sample-request-body>Sample Request Body
<a class=heading-link href=#sample-request-body><i class="fa fa-link" aria-hidden=true></i></a></h4><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=font-weight:700>&#34;content&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=font-weight:700>&#34;contentEntities&#34;</span>: [
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=font-weight:700>&#34;entityLocation&#34;</span>: <span style=font-style:italic>&#34;https://dev.to/danchei99/getting-started-with-fast-api-and-docker-part-1-54oo&#34;</span>,
</span></span><span style=display:flex><span>                <span style=font-weight:700>&#34;thumbnails&#34;</span>: [
</span></span><span style=display:flex><span>                    {
</span></span><span style=display:flex><span>                        <span style=font-weight:700>&#34;resolvedUrl&#34;</span>: <span style=font-style:italic>&#34;https://res.cloudinary.com/practicaldev/image/fetch/s--k24egrxV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8aifzgpakwlbxzukgaaj.png&#34;</span>
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                ]
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=font-weight:700>&#34;title&#34;</span>: <span style=font-style:italic>&#34;Getting Started with Fast API and Docker&#34;</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=font-weight:700>&#34;distribution&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=font-weight:700>&#34;linkedInDistributionTarget&#34;</span>: {}
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=font-weight:700>&#34;owner&#34;</span>: <span style=font-style:italic>&#34;urn:li:person:&lt;person_id&gt;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=font-weight:700>&#34;text&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=font-weight:700>&#34;text&#34;</span>: <span style=font-style:italic>&#34;Learn more about APIs and Docker by reading the Blog!&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=sample-request-with-python-3>Sample request with python
<a class=heading-link href=#sample-request-with-python-3><i class="fa fa-link" aria-hidden=true></i></a></h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>def</span> share_article(access_token: str, profile_id: str):
</span></span><span style=display:flex><span>    headers = {
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;Authorization&#34;</span>: <span style=font-style:italic>f</span><span style=font-style:italic>&#34;Bearer </span><span style=font-weight:700;font-style:italic>{</span>access_token<span style=font-weight:700;font-style:italic>}</span><span style=font-style:italic>&#34;</span>,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;Content-Type&#34;</span>: <span style=font-style:italic>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    payload = {
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;content&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=font-style:italic>&#34;contentEntities&#34;</span>: [
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=font-style:italic>&#34;entityLocation&#34;</span>: <span style=font-style:italic>&#34;https://dev.to/danchei99/getting-started-with-fast-api-and-docker-part-1-54oo&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=font-style:italic>&#34;thumbnails&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=font-style:italic>&#34;resolvedUrl&#34;</span>: <span style=font-style:italic>&#34;https://res.cloudinary.com/practicaldev/image/fetch/s--k24egrxV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8aifzgpakwlbxzukgaaj.png&#34;</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ],
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=font-style:italic>&#34;title&#34;</span>: <span style=font-style:italic>&#34;Getting Started with Fast API and Docker&#34;</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;distribution&#34;</span>: {<span style=font-style:italic>&#34;linkedInDistributionTarget&#34;</span>: {}},
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;owner&#34;</span>: <span style=font-style:italic>f</span><span style=font-style:italic>&#34;urn:li:person:</span><span style=font-weight:700;font-style:italic>{</span>profile_id<span style=font-weight:700;font-style:italic>}</span><span style=font-style:italic>&#34;</span>,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;text&#34;</span>: {<span style=font-style:italic>&#34;text&#34;</span>: <span style=font-style:italic>&#34;Learn more about APIs and Docker by reading the Blog!&#34;</span>},
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=font-weight:700>with</span> requests.session() <span style=font-weight:700>as</span> s:
</span></span><span style=display:flex><span>        response = s.post(url=SHARE_URL, headers=headers, json=payload)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> response.json()
</span></span></code></pre></div><h3 id=sample-response-1>Sample Response
<a class=heading-link href=#sample-response-1><i class="fa fa-link" aria-hidden=true></i></a></h3><p>A successful share request returns a JSON response:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;owner&#34;</span>:<span style=font-style:italic>&#34;urn:li:person:uvoFu7gji4&#34;</span>,
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;activity&#34;</span>:<span style=font-style:italic>&#34;urn:li:activity:6956317238383509504&#34;</span>,
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;edited&#34;</span>:<span style=font-weight:700>false</span>,
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;created&#34;</span>:{
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;actor&#34;</span>:<span style=font-style:italic>&#34;urn:li:person:uvoFu7gji4&#34;</span>,
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;time&#34;</span>:1658515271742
</span></span><span style=display:flex><span>   },
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;text&#34;</span>:{
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;text&#34;</span>:<span style=font-style:italic>&#34;Learn more about APIs and Docker by reading the Blog!&#34;</span>
</span></span><span style=display:flex><span>   },
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;lastModified&#34;</span>:{
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;actor&#34;</span>:<span style=font-style:italic>&#34;urn:li:person:uvoFu7gji4&#34;</span>,
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;time&#34;</span>:1658515271742
</span></span><span style=display:flex><span>   },
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;id&#34;</span>:<span style=font-style:italic>&#34;6956317237402046465&#34;</span>,
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;distribution&#34;</span>:{
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;linkedInDistributionTarget&#34;</span>:{
</span></span><span style=display:flex><span>         <span style=font-weight:700>&#34;visibleToGuest&#34;</span>:<span style=font-weight:700>true</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>   },
</span></span><span style=display:flex><span>   <span style=font-weight:700>&#34;content&#34;</span>:{
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;title&#34;</span>:<span style=font-style:italic>&#34;Getting Started with Fast API and Docker&#34;</span>,
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;contentEntities&#34;</span>:[
</span></span><span style=display:flex><span>         {
</span></span><span style=display:flex><span>            <span style=font-weight:700>&#34;thumbnails&#34;</span>:[
</span></span><span style=display:flex><span>               {
</span></span><span style=display:flex><span>                  <span style=font-weight:700>&#34;imageSpecificContent&#34;</span>:{
</span></span><span style=display:flex><span>                     
</span></span><span style=display:flex><span>                  },
</span></span><span style=display:flex><span>                  <span style=font-weight:700>&#34;resolvedUrl&#34;</span>:<span style=font-style:italic>&#34;https://res.cloudinary.com/practicaldev/image/fetch/s--k24egrxV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8aifzgpakwlbxzukgaaj.png&#34;</span>
</span></span><span style=display:flex><span>               }
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=font-weight:700>&#34;title&#34;</span>:<span style=font-style:italic>&#34;Getting Started with Fast API and Docker&#34;</span>,
</span></span><span style=display:flex><span>            <span style=font-weight:700>&#34;entityLocation&#34;</span>:<span style=font-style:italic>&#34;https://dev.to/danchei99/getting-started-with-fast-api-and-docker-part-1-54oo&#34;</span>
</span></span><span style=display:flex><span>         }
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=font-weight:700>&#34;shareMediaCategory&#34;</span>:<span style=font-style:italic>&#34;ARTICLE&#34;</span>
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Once the request is successful, the content will be shared from your personal profile and it will appear in the feed as follows:<figure><img src=/linkedin-api-python/post_linkedin.png alt=linkedin></figure></p><h2 id=bfull-codeb>Full Code
<a class=heading-link href=#bfull-codeb><i class="fa fa-link" aria-hidden=true></i></a></h2><p>Here is the complete code:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>os</span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>secrets</span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>string</span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>webbrowser</span>
</span></span><span style=display:flex><span><span style=font-weight:700>from</span> <span style=font-weight:700>pathlib</span> <span style=font-weight:700>import</span> Path
</span></span><span style=display:flex><span><span style=font-weight:700>from</span> <span style=font-weight:700>urllib.parse</span> <span style=font-weight:700>import</span> parse_qs, urlparse
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>import</span> <span style=font-weight:700>requests</span>
</span></span><span style=display:flex><span><span style=font-weight:700>from</span> <span style=font-weight:700>dotenv</span> <span style=font-weight:700>import</span> load_dotenv, set_key
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>AUTHORIZATION_URL = <span style=font-style:italic>&#34;https://www.linkedin.com/oauth/v2/authorization&#34;</span>
</span></span><span style=display:flex><span>ACCESS_TOKEN_URL = <span style=font-style:italic>&#34;https://www.linkedin.com/oauth/v2/accessToken&#34;</span>
</span></span><span style=display:flex><span>USER_PROFILE_URL = <span style=font-style:italic>&#34;https://api.linkedin.com/v2/me&#34;</span>
</span></span><span style=display:flex><span>SHARE_URL = <span style=font-style:italic>&#34;https://api.linkedin.com/v2/shares&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> generate_CSRF_token():
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> secrets.token_urlsafe(32)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> parse_redirect_uri(redirect_response):
</span></span><span style=display:flex><span>    <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>    Extract the authorization code from the redirect uri.
</span></span></span><span style=display:flex><span><span style=font-style:italic>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    url = urlparse(redirect_response)
</span></span><span style=display:flex><span>    url = parse_qs(url.query)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> url[<span style=font-style:italic>&#34;code&#34;</span>][0]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> request_authorization_code(client_id: str, redirect_uri: str):
</span></span><span style=display:flex><span>    csrf_token = generate_CSRF_token()
</span></span><span style=display:flex><span>    params = {
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;response_type&#34;</span>: <span style=font-style:italic>&#34;code&#34;</span>,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;client_id&#34;</span>: client_id,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;redirect_uri&#34;</span>: redirect_uri,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;state&#34;</span>: csrf_token,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;scope&#34;</span>: <span style=font-style:italic>&#34;r_liteprofile,r_emailaddress,w_member_social&#34;</span>,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=font-weight:700>with</span> requests.session() <span style=font-weight:700>as</span> s:
</span></span><span style=display:flex><span>        response = s.get(AUTHORIZATION_URL, params=params)
</span></span><span style=display:flex><span>    OAuthURL = response.url
</span></span><span style=display:flex><span>    webbrowser.open_new_tab(OAuthURL)
</span></span><span style=display:flex><span>    print(
</span></span><span style=display:flex><span>        <span style=font-style:italic>f</span><span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>    Copy the URL of where you have been redirected to:</span><span style=font-weight:700;font-style:italic>\n</span><span style=font-style:italic>
</span></span></span><span style=display:flex><span><span style=font-style:italic>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    redirect_response = input(<span style=font-style:italic>&#34;Paste the redirect URL here:&#34;</span>)
</span></span><span style=display:flex><span>    <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>    Extract the authorization code from the redirect uri.
</span></span></span><span style=display:flex><span><span style=font-style:italic>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    auth_code = parse_redirect_uri(redirect_response)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> auth_code
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> authorize(client_id: str, redirect_url: str, env_path: Path):
</span></span><span style=display:flex><span>    authorization_code = os.environ.get(<span style=font-style:italic>&#34;AUTHORIZATION_CODE&#34;</span>, <span style=font-weight:700>None</span>)
</span></span><span style=display:flex><span>    <span style=font-weight:700>if</span> <span style=font-weight:700>not</span> authorization_code:
</span></span><span style=display:flex><span>        authorization_code = request_authorization_code(
</span></span><span style=display:flex><span>            AUTHORIZATION_URL, client_id, redirect_url
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>        set_key(env_path, <span style=font-style:italic>&#34;AUTHORIZATION_CODE&#34;</span>, authorization_code)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> authorization_code
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> get_access_token(
</span></span><span style=display:flex><span>    auth_code: str, redirect_uri: str, client_id: str, client_secret: str
</span></span><span style=display:flex><span>):
</span></span><span style=display:flex><span>    <span style=font-style:italic># Request body parameters</span>
</span></span><span style=display:flex><span>    params = {
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;grant_type&#34;</span>: <span style=font-style:italic>&#34;authorization_code&#34;</span>,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;code&#34;</span>: auth_code,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;redirect_uri&#34;</span>: redirect_uri,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;client_id&#34;</span>: client_id,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;client_secret&#34;</span>: client_secret,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=font-weight:700>with</span> requests.session() <span style=font-weight:700>as</span> s:
</span></span><span style=display:flex><span>        response = s.post(url=ACCESS_TOKEN_URL, params=params)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> response.json()[<span style=font-style:italic>&#34;access_token&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> get_linkedin_profile(access_token: str):
</span></span><span style=display:flex><span>    <span style=font-style:italic># Request header</span>
</span></span><span style=display:flex><span>    header = {<span style=font-style:italic>&#34;Authorization&#34;</span>: <span style=font-style:italic>f</span><span style=font-style:italic>&#34;Bearer </span><span style=font-weight:700;font-style:italic>{</span>access_token<span style=font-weight:700;font-style:italic>}</span><span style=font-style:italic>&#34;</span>}
</span></span><span style=display:flex><span>    <span style=font-weight:700>with</span> requests.session() <span style=font-weight:700>as</span> s:
</span></span><span style=display:flex><span>        response = s.get(USER_PROFILE_URL, headers=header)
</span></span><span style=display:flex><span>    <span style=font-style:italic># return response.json()[&#34;id&#34;]</span>
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> response.json()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> share_article(access_token: str, profile_id: str):
</span></span><span style=display:flex><span>    headers = {
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;Authorization&#34;</span>: <span style=font-style:italic>f</span><span style=font-style:italic>&#34;Bearer </span><span style=font-weight:700;font-style:italic>{</span>access_token<span style=font-weight:700;font-style:italic>}</span><span style=font-style:italic>&#34;</span>,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;Content-Type&#34;</span>: <span style=font-style:italic>&#34;application/json&#34;</span>,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    payload = {
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;content&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=font-style:italic>&#34;contentEntities&#34;</span>: [
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    <span style=font-style:italic>&#34;entityLocation&#34;</span>: <span style=font-style:italic>&#34;https://dev.to/danchei99/getting-started-with-fast-api-and-docker-part-1-54oo&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=font-style:italic>&#34;thumbnails&#34;</span>: [
</span></span><span style=display:flex><span>                        {
</span></span><span style=display:flex><span>                            <span style=font-style:italic>&#34;resolvedUrl&#34;</span>: <span style=font-style:italic>&#34;https://res.cloudinary.com/practicaldev/image/fetch/s--k24egrxV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8aifzgpakwlbxzukgaaj.png&#34;</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    ],
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=font-style:italic>&#34;title&#34;</span>: <span style=font-style:italic>&#34;Getting Started with Fast API and Docker&#34;</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;distribution&#34;</span>: {<span style=font-style:italic>&#34;linkedInDistributionTarget&#34;</span>: {}},
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;owner&#34;</span>: <span style=font-style:italic>f</span><span style=font-style:italic>&#34;urn:li:person:</span><span style=font-weight:700;font-style:italic>{</span>profile_id<span style=font-weight:700;font-style:italic>}</span><span style=font-style:italic>&#34;</span>,
</span></span><span style=display:flex><span>        <span style=font-style:italic>&#34;text&#34;</span>: {<span style=font-style:italic>&#34;text&#34;</span>: <span style=font-style:italic>&#34;Learn more about APIs and Docker by reading the Blog!&#34;</span>},
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=font-weight:700>with</span> requests.session() <span style=font-weight:700>as</span> s:
</span></span><span style=display:flex><span>        response = s.post(url=SHARE_URL, headers=headers, json=payload)
</span></span><span style=display:flex><span>    <span style=font-weight:700>return</span> response.json()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>def</span> main():
</span></span><span style=display:flex><span>    env_path = Path.cwd() / <span style=font-style:italic>&#34;.env&#34;</span>
</span></span><span style=display:flex><span>    load_dotenv(env_path)
</span></span><span style=display:flex><span>    client_id, client_secret, redirect_url = (
</span></span><span style=display:flex><span>        os.environ.get(<span style=font-style:italic>&#34;CLIENT_ID&#34;</span>, <span style=font-weight:700>None</span>),
</span></span><span style=display:flex><span>        os.environ.get(<span style=font-style:italic>&#34;CLIENT_SECRET&#34;</span>, <span style=font-weight:700>None</span>),
</span></span><span style=display:flex><span>        os.environ.get(<span style=font-style:italic>&#34;REDIRECT_URL&#34;</span>, <span style=font-weight:700>None</span>),
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    authorization_code = authorize(client_id, redirect_url, env_path)
</span></span><span style=display:flex><span>    access_token = get_access_token(
</span></span><span style=display:flex><span>        authorization_code, redirect_url, client_id, client_secret
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    user_profile = get_linkedin_profile(access_token)
</span></span><span style=display:flex><span>    person_id = user_profile[<span style=font-style:italic>&#34;id&#34;</span>]
</span></span><span style=display:flex><span>    share_response = share_article(access_token, person_id)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=font-weight:700>if</span> __name__ == <span style=font-style:italic>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div><h2 id=blimitations-of-linkedin-apisb>Limitations of LinkedIn APIs
<a class=heading-link href=#blimitations-of-linkedin-apisb><i class="fa fa-link" aria-hidden=true></i></a></h2><p>Starting on May 12, 2015, LinkedIn limited the open APIs to only support the following uses:</p><ul><li>Enabling members to share professional content to their LinkedIn network from across the Web leveraging our Share API.</li><li>Enabling companies to share professional content to LinkedIn with our Company API.</li></ul><p>The use of all other APIs was restricted to those developers approved by LinkedIn requiring developers to become members of one of their partnership programs which means having to reach out to your LinkedIn Relationship Manager or Business Development contact to get this and you will need to meet certain criteria and sign an API agreement with data restrictions in order to use this integration.</p><h2 id=bconclusionb>Conclusion
<a class=heading-link href=#bconclusionb><i class="fa fa-link" aria-hidden=true></i></a></h2><p>In this article, we have focused on how to use the LinkedIn REST APIs and share content from a personal profile. LinkedIn is a powerful platform to share content with your social network. Ensuring your content receives the professional audience it deserves.</p><p>This enables you:</p><ol><li>Get your content in front of an audience of millions of professionals.</li><li>Drive traffic to your site and grow your member base.</li><li>Benefit from having your content shared across multiple professional networks worldwide.</li></ol><h2 id=bresourcesb>Resources
<a class=heading-link href=#bresourcesb><i class="fa fa-link" aria-hidden=true></i></a></h2><p>To understand LinkedIn Apis better, i recommend looking at the following resource:</p><ol><li><a href=https://docs.microsoft.com/en-us/linkedin/>Api Documentation</a></li></ol></div><footer><div class=comments><script>let getTheme=window.localStorage&&window.localStorage.getItem("colorscheme");getTheme=getTheme??"github-dark";let theme=getTheme==="dark"?"github-dark":"github-light",s=document.createElement("script");s.src="https://utteranc.es/client.js",s.setAttribute("repo","DanNduati/DanNduati.github.io"),s.setAttribute("issue-term","url"),s.setAttribute("theme",theme),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",""),document.querySelector("div.comments").innerHTML="",document.querySelector("div.comments").appendChild(s)</script></div></footer></article></section></div><footer class=footer><section class=container>©
2022
Nduati Daniel
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.236049395dc3682fb2719640872958e12f1f24067bb09c327b233e6290c7edac.js integrity="sha256-I2BJOV3DaC+ycZZAhylY4S8fJAZ7sJwyeyM+YpDH7aw="></script>
<script data-goatcounter=https://daniel.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>